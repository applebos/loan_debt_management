
# 대출 이자 계산기 프로젝트 청사진

## 1. 프로젝트 개요

이 프로젝트는 사용자가 대출 원금, 이자율, 기간 등 기본 정보를 입력하면, 다양한 상환 방식에 따른 월 납입금, 총 이자, 상환 스케줄을 한눈에 비교할 수 있는 웹 애플리케이션입니다. 또한, 사용자의 현재 대출 조건이 시장 평균 대비 고금리일 경우, 더 나은 조건의 대환대출을 지능적으로 제안하여 사용자의 금융 비용 절감을 돕는 것을 목표로 합니다.

---

## 2. 구현된 기능 상세 내역 (v1.0)

### 2.1. 핵심 계산 엔진 (`/app/lib/loanLogic.ts`)

- **다중 상환 방식 계산:**
  - **원리금 균등분할상환:** 매월 동일한 금액을 상환하는 방식의 스케줄과 총 이자 계산.
  - **원금 균등분할상환:** 매월 동일한 원금을 상환하는 방식의 스케줄과 총 이자 계산.
  - **만기일시상환:** 거치 기간 동안 이자만 납부하고 만기에 원금을 전액 상환하는 방식의 스케줄과 총 이자 계산.
- **복합 시나리오 지원:**
  - **거치기간:** 대출 초기 특정 기간 동안 이자만 납부하는 옵션 지원.
  - **중도상환 및 금리 변동:** 특정 회차에 원금을 추가로 상환하거나, 변동된 새 이자율을 적용하여 이후 상환 스케줄을 재계산하는 기능 구현. 사용자가 여러 개의 변동 이벤트를 추가할 수 있음.

### 2.2. 지능형 대환대출 제안

- **데이터 기반 분석 기준:** 제1금융권의 평균적인 신용대출 금리(`약 3.8%`)를 기준으로 대환의 실익을 분석. (상수 `TIER_1_AVG_RATE`로 관리)
- **현실적인 분석 로직:**
  1. 사용자의 현재 금리가 기준 금리(`3.8%`)보다 낮을 경우, 분석을 실행하지 않아 불필요한 제안을 하지 않음.
  2. 12개월 차에 대환하는 시나리오를 가정하여 절약 가능 금액을 계산.
  3. 대환 후의 가상 금리는 `(현재금리 - 1%)`와 기준 금리(`3.8%`) 중 더 높은(현실적인) 값을 적용.
- **조건부 메시지:**
  - 현재 금리가 5% 이상일 경우: "현재 대출 금리가 높은 편이에요."
  - 현재 금리가 5% 미만(단, 3.8% 초과)일 경우: "이자를 더 아낄 기회가 있을 수 있어요."
- **대환대출 플랫폼 연동:** 분석 결과와 함께 주요 대환대출 서비스(카카오뱅크, 토스 등)로 바로 이동할 수 있는 외부 링크 제공.

### 2.3. 사용자 인터페이스 (UI/UX) (`/app/components/LoanPlanner.tsx`)

- **정보 제공:**
  - **상환 방식 설명 탭:** 메인 화면 상단에 각 상환 방식의 특징을 명확하게 설명하는 UI를 구현하여 사용자의 이해를 돕도록 함.
  - **계산기 개요 설명:** 계산기 제목 하단에 서비스의 목적을 요약하는 부제를 추가.
- **동적 입력 폼:**
  - '거치기간', '중도상환/금리변동' 옵션을 체크박스로 제공하여, 선택 시에만 관련 입력 필드가 나타나도록 하여 폼의 복잡도를 낮춤.
  - 중도상환/금리변동 이벤트는 사용자가 `+`, `-` 버튼으로 동적으로 추가/삭제 가능.
- **결과 시각화:**
  - **비교 테이블:** 3가지 상환 방식의 총 이자와 총상환액을 테이블 형태로 명확하게 비교.
  - **상세 상환 스케줄:** 사용자가 '보기' 버튼을 클릭하면, 선택한 방식의 전체 상환 스케줄(회차, 납입원금, 이자, 잔액)을 확인할 수 있는 상세 테이블 제공.
  - **오류 메시지:** 계산에 필요한 값이 누락되거나 잘못되었을 경우, 사용자에게 오류 내용을 명확하게 안내.

---

## 3. 향후 계획 (Next Steps)

- **실시간 금리 데이터 연동:** 현재 상수로 관리되는 `TIER_1_AVG_RATE`를 외부 금융 API와 연동하여, 항상 최신 시장 금리 동향을 반영한 분석을 제공하도록 고도화할 계획입니다. 이를 통해 대환대출 제안의 정확도와 신뢰도를 극대화할 수 있습니다.
- **추가 상환 방식 지원:** '체증식 분할상환' 등 더 다양한 대출 상환 방식을 계산기에 추가하여, 더 넓은 범위의 사용자들이 활용할 수 있도록 기능을 확장할 것입니다.
- **그래프 시각화:** 계산 결과를 차트나 그래프 형태로 시각화하여 사용자가 상환 방식별 비용 차이를 더 직관적으로 이해할 수 있도록 개선할 것입니다.
